<template>
  <div class="bg-gray-400 font-lix w-screen h-screen fixed">
    <!-- Container -->
    <div class="container mx-auto">
      <div class="flex justify-center items-start px-6 mt-16">
        <!-- Row -->
        <div class="w-3/4">
          <div class="lg:w-11/12 flex shadow-md px-5 py-5 bg-white">
            <!-- Col -->
            <div class="bg-white lg:block lg:w-1/2 bg-cover rounded-l-lg">
              <svg
                viewBox="0 0 507 333"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                class="mt-12"
              >
                <defs>
                  <ellipse
                    id="path-1"
                    cx="40.4014574"
                    cy="40.5978237"
                    rx="40.4014574"
                    ry="40.5978237"
                  ></ellipse>
                  <filter
                    x="-31.2%"
                    y="-31.0%"
                    width="162.4%"
                    height="162.1%"
                    filterUnits="objectBoundingBox"
                    id="filter-3"
                  >
                    <feGaussianBlur
                      stdDeviation="8.64"
                      in="SourceGraphic"
                    ></feGaussianBlur>
                  </filter>
                </defs>
                <g
                  id="Artboard-Copy"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <path
                    d="M136,245.070385 L136,196 L147.076133,196 L147.076133,234.579017 L171.630453,234.579017 L171.630453,245.070385 L136,245.070385 Z M212.331908,226.01328 C212.331908,227.474104 212.19846,228.934927 211.998289,230.39575 L185.10864,230.39575 C186.242943,234.379814 189.378956,237.23506 195.05047,237.23506 C198.987169,237.23506 203.52438,235.707835 206.460222,233.715803 L210.597092,240.820717 C207.060736,243.47676 201.389222,245.867198 194.583405,245.867198 C180.905047,245.867198 174.566296,236.703851 174.566296,226.810093 C174.566296,215.98672 182.239521,207.752988 193.849444,207.752988 C204.325064,207.752988 212.331908,214.459495 212.331908,226.01328 Z M193.849444,216.185923 C189.579127,216.185923 186.242943,218.709163 185.041916,222.958831 L202.25663,222.958831 C201.322498,218.841965 198.253208,216.185923 193.849444,216.185923 Z M245.96065,208.682603 L255.835757,208.682603 L255.835757,245.070385 L245.96065,245.070385 L245.96065,241.351926 C243.291702,244.007968 239.688623,246 234.684346,246 C224.142002,246 216.668948,237.500664 216.668948,226.677291 C216.668948,215.787517 224.342173,207.752988 234.684346,207.752988 C239.621899,207.752988 243.291702,209.811421 245.96065,212.533865 L245.96065,208.682603 Z M236.485885,236.504648 C242.023952,236.504648 245.96065,232.055777 245.96065,226.810093 C245.96065,221.63081 242.023952,217.24834 236.485885,217.24834 C230.947819,217.24834 227.144568,221.63081 227.144568,226.810093 C227.144568,232.122178 231.014542,236.504648 236.485885,236.504648 Z M263.909324,245.070385 L263.909324,208.682603 L274.11805,208.682603 L274.11805,213.729084 C275.919589,210.475432 280.123182,207.686587 285.661249,207.686587 C292.934132,207.686587 299.873396,212.533865 299.873396,222.826029 L299.873396,245.070385 L289.397776,245.070385 L289.397776,225.548473 C289.397776,220.169987 286.528657,217.24834 282.25834,217.24834 C277.587682,217.24834 274.384944,220.701195 274.384944,225.814077 L274.384944,245.070385 L263.909324,245.070385 Z M308.6142,196 L319.690334,196 L319.690334,245.070385 L308.6142,245.070385 L308.6142,196 Z M325.094953,245.070385 L340.641574,220.302789 L326.229256,196 L338.973482,196 L347.781009,212.002656 L357.122327,196 L370,196 L354.720274,220.302789 L369.866553,245.070385 L357.122327,245.070385 L347.647562,228.602922 L337.972626,245.070385 L325.094953,245.070385 Z"
                    id="LeanIX"
                    fill="#222F4B"
                    fill-rule="nonzero"
                  ></path>
                  <g id="Group" transform="translate(192.000000, 77.000000)">
                    <g
                      id="Rectangle-Copy-5"
                      transform="translate(42.197080, 1.804348)"
                    >
                      <mask id="mask-2" fill="white">
                        <use xlink:href="#path-1"></use>
                      </mask>
                      <use id="Mask" fill="#166BFF" xlink:href="#path-1"></use>
                      <polygon
                        id="Rectangle-Copy-2"
                        fill-opacity="0.65"
                        fill="#003399"
                        filter="url(#filter-3)"
                        mask="url(#mask-2)"
                        points="-28.28102 48.7173884 13.2747648 6.95962691 54.8305496 48.7173884 13.2747648 90.4751499"
                      ></polygon>
                    </g>
                    <polygon
                      id="Rectangle-Copy-6"
                      fill="#166BFF"
                      points="0 41.5 41.2992701 0 82.5985401 41.5 41.2992701 83"
                    ></polygon>
                    <path
                      d="M54.3336514,70.3695652 C46.8467359,63.0491091 42.1970803,52.8195549 42.1970803,41.5 C42.1970803,30.1804451 46.8467359,19.9508909 54.3336514,12.6304348 L83.4963504,41.5 L54.3336514,70.3695652 Z"
                      id="Combined-Shape-Copy-4"
                      fill="#FFFFFF"
                    ></path>
                  </g>
                </g>
              </svg>
            </div>
            <!-- Col -->
            <div
              class="w-full lg:w-1/2 bg-white p-5 rounded-lg lg:rounded-l-none"
            >
              <h3 class="pt-4 text-2xl text-center">Welcome Back!</h3>
              <form
                class="px-8 pt-6 pb-8 mb-4 bg-white rounded"
                @submit.prevent="userLogin"
              >
                <div class="mb-4">
                  <label
                    class="block mb-2 text-sm font-bold text-gray-700"
                    for="username"
                  >
                    Username
                  </label>
                  <input
                    class="w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                    id="username"
                    type="text"
                    v-model="login.username"
                    placeholder="Username"
                  />
                </div>
                <div class="mb-4">
                  <label
                    class="block mb-2 text-sm font-bold text-gray-700"
                    for="password"
                  >
                    Password
                  </label>
                  <input
                    class="w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border border-red-500 rounded shadow appearance-none focus:outline-none focus:shadow-outline"
                    id="password"
                    v-model="login.password"
                    type="password"
                    placeholder="******************"
                  />
                  <p class="text-xs italic text-red-500">
                    Please choose a password.
                  </p>
                </div>

                <div class="mb-6 text-center">
                  <button
                    class="w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 focus:outline-none focus:shadow-outline"
                    type="submit"
                  >
                    Sign In
                  </button>
                </div>
                <hr class="mb-6 border-t" />
                <div class="text-center">
                  <nuxt-link to="/signup">
                    <a
                      class="inline-block text-sm text-blue-500 align-baseline hover:text-blue-800"
                    >
                      Create an Account!
                    </a>
                  </nuxt-link>
                </div>
                <!-- <div class="text-center">
                <nuxt-link to="">
                <a
                  class="inline-block text-sm text-blue-500 align-baseline hover:text-blue-800"
                  href="./forgot-password.html"
                >
                  Forgot Password?
                </a>
                </nuxt-link>
              </div> -->
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import qs from "qs";

export default {
  name: "login",
  data() {
    return {
      login: {
        username: "vncgrvs@gmail.com",
        password: "jack4luna",
      },
    };
  },
  methods: {
    async userLogin() {
       this.$store.dispatch("auth/login", this.login);
    },
  },

  beforeRouteLeave(to, from, next) {
    // called when the route that renders this component is about to
    // be navigated away from.
    // has access to `this` component instance.
    // console.log(to.name)

    next();
    this.$store.commit("changeCurrentRoute", to.name);
  },

  mounted() {
    
  },


};
</script>

<style>
fontLIX {
  font-family: "Axiforma", sans-serif;
}
</style>